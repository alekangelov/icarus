{"version":3,"file":"Button.39f1ced6.js","sources":["../../../../packages/core/src/helpers/createId.ts","../../../../packages/core/src/styles/system/general/button/helpers.ts","../../../../packages/react/src/lib/internal/mergeRefs.ts","../../../../packages/react/src/lib/General/Button/Button.tsx"],"sourcesContent":["export const createId = (prefix: string) => {\n  let i = 0;\n  return () => `${prefix}-${i++}`;\n};\n","import { createId } from '../../../../helpers/createId';\nimport { buttonRipple } from './button.css';\n\nconst rippleId = createId('ripple');\n\nconst getRelativeMouseCoordinates = (event: MouseEvent) => {\n  const rect = (event.target as HTMLButtonElement).getBoundingClientRect();\n  const x = event.clientX - rect.left; //x position within the element.\n  const y = event.clientY - rect.top; //y position within the element.\n  return {\n    x,\n    y,\n  };\n};\n\nexport const createButtonRippleEvent = (\n  element: keyof HTMLElementTagNameMap = 'button'\n) => {\n  let timeoutId: NodeJS.Timeout;\n  let cleanup: VoidFunction;\n  return {\n    event: (event: MouseEvent) => {\n      const { target } = event;\n      if (!target) return;\n      if (!document || typeof window === 'undefined') return;\n      const htmlTarget = target as HTMLButtonElement;\n      let realTarget: HTMLButtonElement = htmlTarget;\n\n      if (htmlTarget.tagName !== 'BUTTON') {\n        realTarget = htmlTarget.closest(element) as HTMLButtonElement;\n      }\n      const ripple = document.createElement('span');\n      const { x: left, y: top } = getRelativeMouseCoordinates(event);\n      ripple.className = buttonRipple;\n      ripple.style.left = `${left}px`;\n      ripple.style.top = `${top}px`;\n      ripple.id = rippleId();\n      realTarget?.appendChild(ripple);\n      cleanup = () => {\n        ripple.remove();\n      };\n      timeoutId = setTimeout(cleanup, 500);\n    },\n    cleanup: () => {\n      if (timeoutId) {\n        clearTimeout(timeoutId);\n        cleanup?.();\n      }\n    },\n  };\n};\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { Ref } from 'react';\n\nexport function mergeRefs<T = any>(refs: Array<Ref<T>>): React.RefCallback<T> {\n  return (value) => {\n    refs.forEach((ref) => {\n      if (typeof ref === 'function') {\n        ref(value);\n      } else if (ref != null) {\n        (ref.current as any) = value;\n      }\n    });\n  };\n}\n","import {\n  button,\n  ButtonProps,\n  clsx,\n  GapSize,\n  disabled,\n  createButtonRippleEvent,\n} from '@icarus/core';\nimport {\n  Children,\n  forwardRef,\n  PropsWithChildren,\n  Ref,\n  useEffect,\n  useRef,\n} from 'react';\nimport { mergeRefs } from '../../internal/mergeRefs';\nimport { Spacing } from '../../Layout/Spacing';\n\ntype Additionals = {\n  icon?: JSX.Element;\n  iconPosition?: 'left' | 'right';\n  gap?: GapSize;\n  disabled?: boolean;\n};\n\ntype Props = PropsWithChildren<\n  ButtonProps & JSX.IntrinsicElements['button'] & Additionals\n>;\n\nexport const Button = forwardRef(\n  (\n    {\n      color,\n      size,\n      elevation,\n      fullWidth,\n      floating,\n      radius,\n      icon,\n      iconPosition = 'left',\n      gap,\n      disabled: isDisabled,\n      ...props\n    }: Props,\n    ref: Ref<HTMLButtonElement>\n  ) => {\n    const hasOneChild = Children.count(props.children) === 1;\n    const innerRef = useRef<HTMLButtonElement>(null);\n    useEffect(() => {\n      const { event, cleanup } = createButtonRippleEvent();\n      innerRef?.current?.addEventListener('click', event);\n      return () => cleanup();\n    }, [innerRef]);\n    return (\n      <button\n        {...props}\n        className={clsx(\n          button({\n            color,\n            size:\n              hasOneChild &&\n              !size?.includes('Symmetric') &&\n              typeof props.children !== 'string'\n                ? // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                  (`${size || 'small'}Symmetric` as any)\n                : size,\n            elevation,\n            fullWidth,\n            floating,\n            radius: hasOneChild && !radius ? 'round' : radius,\n          }),\n          isDisabled && disabled\n        )}\n        ref={mergeRefs([ref, innerRef])}\n      >\n        <Spacing gap={gap || 'md'} align=\"center\" justify=\"center\">\n          {icon && iconPosition === 'left' && icon}\n          {props.children}\n          {icon && iconPosition === 'right' && icon}\n        </Spacing>\n      </button>\n    );\n  }\n);\n"],"names":["forwardRef","color","size","elevation","fullWidth","floating","radius","icon","gap","isDisabled","props","Children","useRef","useEffect","event","cleanup","innerRef","_jsx","_jsxs"],"mappings":"kjCAAa,KAAA,GAAW,AAAC,GAAmB,CAC1C,GAAI,GAAI,EACD,MAAA,IAAM,GAAG,KAAU,KAC5B,ECAM,EAAW,EAAS,QAAQ,EAE5B,EAA8B,AAAC,GAAsB,CACnD,KAAA,GAAQ,EAAM,OAA6B,sBAAsB,EACjE,EAAI,EAAM,QAAU,EAAK,KACzB,EAAI,EAAM,QAAU,EAAK,IACxB,MAAA,CACL,IACA,GAAA,CAEJ,EAEa,EAA0B,CACrC,EAAuC,WACpC,CACC,GAAA,GACA,EACG,MAAA,CACL,MAAO,AAAC,GAAsB,CAC5B,KAAM,CAAE,UAAW,EAEf,GADA,CAAC,GACD,CAAC,UAAY,MAAO,SAAW,YAAa,OAChD,KAAM,GAAa,EACnB,GAAI,GAAgC,EAEhC,AAAA,EAAW,UAAY,UACZ,GAAA,EAAW,QAAQ,CAAO,GAEnC,KAAA,GAAS,SAAS,cAAc,MAAM,EACtC,CAAE,EAAG,EAAM,EAAG,GAAQ,EAA4B,CAAK,EAC7D,EAAO,UAAY,EACZ,EAAA,MAAM,KAAO,GAAG,MAChB,EAAA,MAAM,IAAM,GAAG,MACtB,EAAO,GAAK,IACZ,WAAY,YAAY,GACxB,EAAU,IAAM,CACd,EAAO,OAAO,CAAA,EAEJ,EAAA,WAAW,EAAS,GAAG,CACrC,EACA,QAAS,IAAM,CACb,AAAI,GACF,cAAa,CAAS,EACZ,aAEd,CAAA,CAEJ,mBC/CO,WAA4B,EAA2C,CAC5E,MAAO,AAAC,IAAU,CACX,EAAA,QAAQ,AAAC,GAAQ,CAChB,AAAA,MAAO,IAAQ,WACjB,EAAI,CAAK,EACA,GAAO,MACf,GAAI,QAAkB,EACzB,CACD,CAAA,CAEL,CCiBO,KAAA,GAAAA,EAAA,QAAA,WAAA,CAAA,CAEH,QACEC,OACAC,YACAC,YACAC,WACAC,SACAC,OACAC,eAAAA,OACe,MACfC,SAAAA,KACUC,GACPC,IAAAA,CAIL,KAAA,GAAAC,EAAAA,QAAAA,SAAA,MAAA,EAAA,QAAA,IAAA,EACA,EAAAC,iBAAA,IAAA,EACAC,SAAAA,QAAAA,UAAAA,IAAAA,OACE,KAAA,CAAM,QAAEC,WAAOC,EAAAA,EACfC,0BAAAA,UAAAA,QAAAA,iBAAAA,QAAAA,GACA,IAAA,EAAA,CAAA,EAAA,CAAA,CAAA,CAAA,EAEFC,EAAA,SAAA,MAEQP,UAAAA,EAAAA,EAAAA,CAEK,QACLT,KAAAA,GAAAA,CAAAA,YAAAA,SAAAA,eAAAA,MAAAA,GAAAA,UAAAA,SAAAA,GAAAA,GAAAA,mBAAAA,EAOMC,YACNC,YACAC,WACAC,OAAAA,GAAAA,CAAAA,EAAAA,QAAAA,CAC2CC,CAAAA,EAAAA,GAAAA,CAAAA,EAbhC,IAAA,EAAA,CAAA,EAAA,CAAA,CAAA,EAiBD,SAAAY,EAAA,EAAA,CAEd,IAAA,GAAA,KAAqB,MAAA,SAAY,QAAA,SAAiB,SAAA,CAAA,GAAA,IAAA,QAAA,EAAA,EAAA,SAAA,GAAA,IAAA,SAAA,CAAA,CAAlD,CAAA,CAAA,CAAA,CAOL,CAAA"}