{"version":3,"file":"Button.74c30908.js","sources":["../../../../packages/core/src/styles/system/general/button/helpers.ts","../../../../packages/react/src/lib/General/Button/Button.tsx"],"sourcesContent":["import { createId } from '../../../../helpers/createId';\nimport { buttonRipple } from './button.css';\n\nconst rippleId = createId('ripple');\n\nconst getRelativeMouseCoordinates = (event: MouseEvent) => {\n  const rect = (event.target as HTMLButtonElement).getBoundingClientRect();\n  const x = event.clientX - rect.left; //x position within the element.\n  const y = event.clientY - rect.top; //y position within the element.\n  return {\n    x,\n    y,\n  };\n};\n\nexport const createButtonRippleEvent = (\n  element: keyof HTMLElementTagNameMap = 'button'\n) => {\n  let timeoutId: NodeJS.Timeout;\n  let cleanup: VoidFunction;\n  return {\n    event: (event: MouseEvent) => {\n      const { target } = event;\n      if (!target) return;\n      if (!document || typeof window === 'undefined') return;\n      const htmlTarget = target as HTMLButtonElement;\n      let realTarget: HTMLButtonElement = htmlTarget;\n\n      if (htmlTarget.tagName !== 'BUTTON') {\n        realTarget = htmlTarget.closest(element) as HTMLButtonElement;\n      }\n      const ripple = document.createElement('span');\n      const { x: left, y: top } = getRelativeMouseCoordinates(event);\n      ripple.className = buttonRipple;\n      ripple.style.left = `${left}px`;\n      ripple.style.top = `${top}px`;\n      ripple.id = rippleId();\n      realTarget?.appendChild(ripple);\n      cleanup = () => {\n        ripple.remove();\n      };\n      timeoutId = setTimeout(cleanup, 500);\n    },\n    cleanup: () => {\n      if (timeoutId) {\n        clearTimeout(timeoutId);\n        cleanup?.();\n      }\n    },\n  };\n};\n","import {\n  button,\n  ButtonProps,\n  clsx,\n  GapSize,\n  disabled,\n  createButtonRippleEvent,\n} from '@icarus/core';\nimport {\n  Children,\n  forwardRef,\n  PropsWithChildren,\n  Ref,\n  useEffect,\n  useRef,\n} from 'react';\nimport { mergeRefs } from '../../internal/mergeRefs';\nimport { Spacing } from '../../Layout/Spacing';\n\ntype Additionals = {\n  icon?: JSX.Element;\n  iconPosition?: 'left' | 'right';\n  gap?: GapSize;\n  disabled?: boolean;\n};\n\ntype Props = PropsWithChildren<\n  ButtonProps & JSX.IntrinsicElements['button'] & Additionals\n>;\n\nexport const Button = forwardRef(\n  (\n    {\n      color = 'primary',\n      size = 'medium',\n      elevation = 'md',\n      fullWidth,\n      floating,\n      radius = 'md',\n      icon,\n      iconPosition = 'left',\n      gap = 'md',\n      disabled: isDisabled,\n      ...props\n    }: Props,\n    ref: Ref<HTMLButtonElement>\n  ) => {\n    const hasOneChild = Children.count(props.children) === 1;\n    const innerRef = useRef<HTMLButtonElement>(null);\n    useEffect(() => {\n      const { event, cleanup } = createButtonRippleEvent();\n      innerRef?.current?.addEventListener('click', event);\n      return () => cleanup();\n    }, [innerRef]);\n    return (\n      <button\n        {...props}\n        className={clsx(\n          button({\n            color,\n            size:\n              hasOneChild &&\n              !size?.includes('Symmetric') &&\n              typeof props.children !== 'string'\n                ? // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                  (`${size || 'small'}Symmetric` as any)\n                : size,\n            elevation,\n            fullWidth,\n            floating,\n            radius: hasOneChild && !radius ? 'round' : radius,\n          }),\n          isDisabled && disabled\n        )}\n        ref={mergeRefs([ref, innerRef])}\n      >\n        <Spacing gap={gap || 'md'} align=\"center\" justify=\"center\">\n          {icon && iconPosition === 'left' && icon}\n          {props.children}\n          {icon && iconPosition === 'right' && icon}\n        </Spacing>\n      </button>\n    );\n  }\n);\n"],"names":["forwardRef","fullWidth","floating","icon","isDisabled","props","Children","useRef","useEffect","event","cleanup","innerRef","_jsx","color","size","elevation","radius","_jsxs"],"mappings":"2qCAGA,KAAM,GAAW,EAAS,QAAQ,EAE5B,EAA8B,AAAC,GAAsB,CACnD,KAAA,GAAQ,EAAM,OAA6B,sBAAsB,EACjE,EAAI,EAAM,QAAU,EAAK,KACzB,EAAI,EAAM,QAAU,EAAK,IACxB,MAAA,CACL,IACA,GAAA,CAEJ,EAEa,EAA0B,CACrC,EAAuC,WACpC,CACC,GAAA,GACA,EACG,MAAA,CACL,MAAO,AAAC,GAAsB,CAC5B,KAAM,CAAE,UAAW,EAEf,GADA,CAAC,GACD,CAAC,UAAY,MAAO,SAAW,YAAa,OAChD,KAAM,GAAa,EACnB,GAAI,GAAgC,EAEhC,AAAA,EAAW,UAAY,UACZ,GAAA,EAAW,QAAQ,CAAO,GAEnC,KAAA,GAAS,SAAS,cAAc,MAAM,EACtC,CAAE,EAAG,EAAM,EAAG,GAAQ,EAA4B,CAAK,EAC7D,EAAO,UAAY,EACZ,EAAA,MAAM,KAAO,GAAG,MAChB,EAAA,MAAM,IAAM,GAAG,MACtB,EAAO,GAAK,IACZ,WAAY,YAAY,GACxB,EAAU,IAAM,CACd,EAAO,OAAO,CAAA,EAEJ,EAAA,WAAW,EAAS,GAAG,CACrC,EACA,QAAS,IAAM,CACb,AAAI,GACF,cAAa,CAAS,EACZ,aAEd,CAAA,CAEJ,mBCpBO,KAAA,GAAAA,EAAA,QAAA,WAAA,CAAA,CAEH,QAAA,UACU,OAAA,SACD,YAAA,KACK,YACZC,WACAC,SAAAA,KACS,OACTC,eAAAA,OACe,MAAA,KACT,SAAA,KACIC,GACPC,IAAAA,CAIL,KAAA,GAAAC,EAAAA,QAAAA,SAAA,MAAA,EAAA,QAAA,IAAA,EACA,EAAAC,iBAAA,IAAA,EACAC,SAAAA,QAAAA,UAAAA,IAAAA,OACE,KAAA,CAAM,QAAEC,WAAOC,EAAAA,EACfC,0BAAAA,UAAAA,QAAAA,iBAAAA,QAAAA,GACA,IAAA,EAAA,CAAA,EAAA,CAAA,CAAA,CAAA,EAEFC,EAAA,SAAA,MAEQP,UAAAA,EAAAA,EAAAA,CAEK,QACLQ,KAAAA,GAAAA,CAAAA,YAAAA,SAAAA,eAAAA,MAAAA,GAAAA,UAAAA,SAAAA,GAAAA,GAAAA,mBAAAA,EAOMC,YACNC,YACAd,WACAC,OAAAA,GAAAA,CAAAA,EAAAA,QAAAA,CAC2Cc,CAAAA,EAAAA,GAAAA,CAAAA,EAbhC,IAAA,EAAA,CAAA,EAAA,CAAA,CAAA,EAiBD,SAAAC,EAAA,EAAA,CAEd,IAAA,GAAA,KAAqB,MAAA,SAAY,QAAA,SAAiB,SAAA,CAAA,GAAA,IAAA,QAAA,EAAA,EAAA,SAAA,GAAA,IAAA,SAAA,CAAA,CAAlD,CAAA,CAAA,CAAA,CAOL,CAAA"}