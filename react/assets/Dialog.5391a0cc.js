import{c as E}from"./dialog.css.ts.vanilla.4a4d5af7.js";import{v as b}from"./index.css.4d0639d6.js";import{r as a}from"./index.003a9cb9.js";import{u as D,P as y}from"./Portal.b7efe8fb.js";import{j as h,F as x,a as _}from"./jsx-runtime.d19d38a0.js";var C="tmkdjr0",k="tmkdjr1",$="tmkdjr2";const w=.26,O=t=>`${t} ${w}s ${b.transition.easing}`,A=t=>O(t?k:$),L=(t,n,e)=>{const s=e.left+(e.width/2-n.width/2);console.log(n.width);const i=e.top+(e.height/2-n.height/2);let o={left:0,top:0};if(t==="left"&&(o={left:e.left-n.width,top:i}),t==="right"&&(o={left:e.left+e.width,top:i}),t==="top"){const r=s,l=e.top-n.height;o={left:r,top:l}}if(t==="bottom"){const r=s,l=e.top+e.height;o={left:r,top:l}}return o.left<=0&&(o.left=e.left),o.top<=0&&(o.top=e.top),o},R=(t,n,e)=>{if(typeof window=="undefined"||!n||!e)return{top:"0px",left:"0px"};const s=b.spacing.md,i=n.getBoundingClientRect(),{height:o,width:r}=i,l=e.getBoundingClientRect(),{height:u,width:p,left:g,top:d}=l;t==="left"&&g<=r&&(t="right"),t==="right"&&g+p>=window.innerWidth-r&&(t="left"),t==="top"&&d<=o&&(t="bottom"),t==="bottom"&&d+u>=window.innerHeight-o&&(t="top");const c=L(t,i,l),f={};return t==="left"&&(f.left=`calc(${c.left}px - ${s})`),t==="right"&&(f.left=`calc(${c.left}px + ${s})`),t==="top"&&(f.top=`calc(${c.top}px - ${s})`),t==="bottom"&&(f.top=`calc(${c.top}px + ${s})`),{top:`${c.top}px`,left:`${c.left}px`,...f}},S=typeof window!="undefined"?a.exports.useLayoutEffect:a.exports.useEffect;function v(t,n,e,s){const i=a.exports.useRef(n);S(()=>{i.current=n},[n]),a.exports.useEffect(()=>{const o=(e==null?void 0:e.current)||window;if(!(o&&o.addEventListener))return;const r=l=>i.current(l);return o.addEventListener(t,r,s),()=>{o.removeEventListener(t,r)}},[t,e,s])}function I(t,n,e="mousedown"){v(e,s=>{const i=t==null?void 0:t.current;!i||i.contains(s.target)||n(s)})}const V=t=>!t,P=(t=!1)=>{const[n,e]=a.exports.useState(t),s=a.exports.useCallback(()=>e(V),[e]),i=a.exports.useCallback(()=>e(!0),[e]),o=a.exports.useCallback(()=>e(!1),[e]);return{value:n,toggle:s,setTrue:i,setFalse:o,setValue:e}},T=({children:t,visible:n=!1,position:e="top",parentElement:s,className:i,toggle:o})=>{const r=a.exports.useRef(null),[l,u]=a.exports.useState({left:"0px",top:"0px"});return a.exports.useEffect(()=>{const p=R(e,r.current,s);u(p)},[s,e]),I(r,o,"mousedown"),h(y,{children:h("div",{ref:r,className:E(C,i),style:{animation:A(n),...l},children:t})})},m=({children:t,triggerable:n=!0,content:e,visible:s=!1,className:i,position:o})=>{if(a.exports.Children.count(t)>1)throw Error("Popover can't have more than one child");const{value:r,toggle:l,setValue:u}=P(s),p=n&&r,g=D(p,w*1e3),d=a.exports.useRef(null);a.exports.useEffect(()=>{u(s)},[u,s]);const c=a.exports.useCallback(f=>{f.preventDefault(),f.stopPropagation(),l()},[l]);return v("mousedown",c,d),!n||!e?h(x,{children:t}):_(x,{children:[g&&h(T,{visible:p,parentElement:d.current,className:i,toggle:c,position:o,children:e}),a.exports.cloneElement(t,{ref:d})]})};try{m.displayName="Dialog",m.__docgenInfo={description:"",displayName:"Dialog",props:{visible:{defaultValue:{value:!1},description:"",name:"visible",required:!1,type:{name:"boolean"}},content:{defaultValue:null,description:"",name:"content",required:!1,type:{name:"Element"}},position:{defaultValue:null,description:"",name:"position",required:!1,type:{name:"DialogPositions"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},triggerable:{defaultValue:{value:!0},description:"",name:"triggerable",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES!="undefined"&&(STORYBOOK_REACT_CLASSES["packages/react/src/lib/Feedback/Dialog/Dialog.tsx#Dialog"]={docgenInfo:m.__docgenInfo,name:"Dialog",path:"packages/react/src/lib/Feedback/Dialog/Dialog.tsx#Dialog"})}catch{}export{m as D};
//# sourceMappingURL=Dialog.5391a0cc.js.map
