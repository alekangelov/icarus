{"version":3,"file":"Loading.stories.dc48a4fe.js","sources":["../../../../packages/react/src/lib/Feedback/Loading/Loading.tsx"],"sourcesContent":["import {\n  clsx,\n  loadingAnimations,\n  loadingModal,\n  loadingParent,\n} from '@icarus/core';\nimport { useEffect, useState } from 'react';\nimport { LoadingIcon } from '../../Icons';\nimport { useDelayedUnmount } from '../../internal/hooks/useDelayedUnmount';\nimport { Portal } from '../../internal/Portal';\n\ntype P = {\n  fullscreen?: boolean;\n  visible?: boolean;\n};\n\nexport const LoadingBase = ({ fullscreen, visible }: P) => {\n  const animation = visible ? loadingAnimations.in : loadingAnimations.out;\n\n  return (\n    <div\n      className={clsx(\n        loadingParent.default,\n        fullscreen && loadingParent.fullscreen\n      )}\n      style={{\n        animation,\n      }}\n    >\n      <div\n        className={clsx(\n          loadingModal({\n            fullscreen,\n          })\n        )}\n      >\n        <LoadingIcon size=\"xxxl\" />\n      </div>\n    </div>\n  );\n};\n\nexport const Loading = ({ visible, fullscreen }: P) => {\n  const [mounted, setMounted] = useState(visible || false);\n  const shouldRender = useDelayedUnmount(mounted, 250);\n  useEffect(() => {\n    if (typeof visible === 'boolean')\n      setMounted((prevMounted) => {\n        if (prevMounted !== visible) {\n          return visible;\n        }\n        return prevMounted;\n      });\n  }, [visible]);\n  return (\n    <Portal>\n      {shouldRender && (\n        <LoadingBase fullscreen={fullscreen} visible={mounted} />\n      )}\n    </Portal>\n  );\n};\n"],"names":["fullscreen","visible","_jsx","animation","useState","useEffect","setMounted","prevMounted","mounted"],"mappings":"kyBAgBO,KAAA,GAAA,CAAA,CAAqB,aAAEA,aAAYC,CACxC,KAAA,GAAA,EAAA,EAAA,GAAA,EAAA,IAEA,MAAAC,GAAA,MAAA,CACE,UAAA,EAAA,EAAA,QAAA,GAAA,EAAA,UAAA,EACiB,MAAA,CAIR,WACLC,EADK,SAAAD,EAAA,MAAA,CAIP,UAAA,EAAA,EAAA,CAEiB,YACXF,CAAAA,CAAAA,EAFW,SAAAE,EAAA,EAAA,CAMf,KAAA,MAAkB,CAAA,CAAlB,CAAA,CAPF,CAAA,CAWL,EAEM,EAAA,CAAA,CAAiB,UAAED,gBAASD,CACjC,KAAA,CAAA,EAAA,GAAAI,EAAAA,QAAAA,SAAA,GAAA,EAAA,EACA,EAAA,EAAA,EAAA,GAAA,EACAC,SAAAA,QAAAA,UAAAA,IAAAA,CACE,AAAA,MAAA,IAAA,WACEC,EAAAA,AAAAA,GACE,IAAA,EACE,EAEF,CAAOC,CAJC,EAAA,CAAA,CAAA,CAAA,EAOdL,EAAA,EAAA,CACE,SAAA,GAAAA,EAAA,EAAA,CAEI,aAAa,QAAA,CAAiCM,CAAAA,CAA9C,CAAA,CAIP;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}