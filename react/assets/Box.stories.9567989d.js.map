{"version":3,"file":"Box.stories.9567989d.js","sources":["../../../../packages/core/src/styles/system/box/helpers/index.ts","../../../../packages/react/src/lib/internal/createBox.tsx","../../../../packages/react/src/lib/Layout/Box/Box.tsx"],"sourcesContent":["import { clsx, forEachInObject } from '../../../../helpers';\nimport { alignmentStyles, justifyStyles } from '../alignment.css';\nimport { BoxProperties, display } from '../box.css';\nimport { AspectRatio } from './aspect.css';\nimport { padding } from './padding.css';\nimport {\n  borderColor,\n  borderRadius,\n  borderSize,\n  backgroundAndTextColor,\n  backgrounds,\n  textColor,\n  aspectRatio,\n} from './proxies';\n\nexport const getBoxProperties = (props: BoxProperties): string => {\n  const classNames: string[] = [];\n  if (props.display) {\n    classNames.push(display[props.display]);\n  }\n  if (props.color) {\n    classNames.push(textColor[props.color]);\n  }\n  if (props.background) {\n    classNames.push(backgroundAndTextColor[props.background]);\n  }\n  if (props.bgColor) {\n    classNames.push(backgrounds[props.bgColor]);\n  }\n  if (props.align) {\n    classNames.push(alignmentStyles[props.align]);\n  }\n  if (props.justify) {\n    classNames.push(justifyStyles[props.justify]);\n  }\n  if (props.aspectRatio) {\n    classNames.push(aspectRatio[props.aspectRatio as keyof AspectRatio]);\n  }\n  if (props.padding) {\n    if (typeof props.padding === 'string') {\n      classNames.push(padding['padding'][props.padding]);\n    }\n    if (typeof props.padding === 'object') {\n      forEachInObject(props.padding, (value, key) => {\n        if (value) classNames.push(padding[key][value]);\n      });\n    }\n  }\n  if (props.borderColor) {\n    classNames.push(borderColor[props.borderColor]);\n  }\n  if (props.borderSize) {\n    classNames.push(borderSize[props.borderSize]);\n  }\n  if (props.borderRadius) {\n    classNames.push(borderRadius[props.borderRadius]);\n  }\n  const pureClassNames = classNames.filter(Boolean);\n  if (pureClassNames.length === 0) {\n    return '';\n  }\n  const r = clsx(...classNames);\n  return r;\n};\n","import {\n  createElement,\n  DetailedHTMLProps,\n  forwardRef,\n  PropsWithChildren,\n  Ref,\n  useMemo,\n} from 'react';\nimport { BoxProperties, clsx, getBoxProperties } from '@icarus/core';\n\ntype ElementProps<T extends keyof HTMLElementTagNameMap> = DetailedHTMLProps<\n  React.HTMLAttributes<HTMLElementTagNameMap[T]>,\n  HTMLElementTagNameMap[T]\n>;\n\ntype BoxComponent<T extends keyof HTMLElementTagNameMap> = (\n  props: PropsWithChildren<\n    Omit<BoxProperties & ElementProps<T>, 'children'>\n  > & {\n    ref?: Ref<HTMLElementTagNameMap[T]>;\n  }\n) => JSX.Element;\n\nexport type BoxProps<T extends keyof HTMLElementTagNameMap> = PropsWithChildren<\n  Omit<BoxProperties & ElementProps<T>, 'children'>\n> & {\n  ref?: Ref<HTMLElementTagNameMap[T]>;\n};\n\nconst createCache = () => {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  const cache = new Map<keyof HTMLElementTagNameMap, any>();\n  return {\n    get: <T extends keyof HTMLElementTagNameMap>(key: T) => {\n      const element = cache.get(key) as BoxComponent<T> | undefined;\n      return element;\n    },\n    set: <T extends keyof HTMLElementTagNameMap>(\n      key: T,\n      value: BoxComponent<T>\n    ) => {\n      cache.set(key, value);\n    },\n  };\n};\n\nconst componentCache = createCache();\n\nexport const createBox = <T extends keyof HTMLElementTagNameMap>(Key: T) => {\n  const Component = componentCache.get(Key);\n  if (Component) return Component;\n\n  const Box = forwardRef(\n    (\n      {\n        display,\n        color,\n        background,\n        bgColor,\n        align,\n        justify,\n        aspectRatio,\n        padding,\n        borderColor,\n        borderSize,\n        borderRadius,\n        ...props\n      }: PropsWithChildren<BoxProperties & HTMLElementTagNameMap[T]>,\n      ref: Ref<HTMLElement>\n    ) => {\n      const boxClassNames = useMemo(() => {\n        const x = getBoxProperties({\n          display,\n          color,\n          background,\n          bgColor,\n          align,\n          justify,\n          aspectRatio,\n          padding,\n          borderColor,\n          borderSize,\n          borderRadius,\n        });\n        return x;\n      }, [\n        display,\n        color,\n        background,\n        bgColor,\n        align,\n        justify,\n        aspectRatio,\n        padding,\n        borderColor,\n        borderSize,\n        borderRadius,\n      ]);\n      return createElement(Key, {\n        ...props,\n        className: clsx(boxClassNames, props.className),\n        ref,\n      });\n    }\n  );\n  componentCache.set(Key, Box as unknown as BoxComponent<T>);\n  return Box as unknown as BoxComponent<T>;\n};\n","import { createBox } from '../../internal/createBox';\n\nexport const Box = createBox('div');\n"],"names":["cache","forwardRef","display","color","background","bgColor","align","justify","aspectRatio","padding","borderColor","borderSize","borderRadius","props","useMemo","x","createElement","ref","componentCache"],"mappings":"66CAea,KAAA,GAAmB,AAAC,GAAiC,CAChE,KAAM,GAAuB,CAAA,EA0CzB,MAzCA,GAAM,SACG,EAAA,KAAK,EAAQ,EAAM,QAAQ,EAEpC,EAAM,OACG,EAAA,KAAK,EAAU,EAAM,MAAM,EAEpC,EAAM,YACG,EAAA,KAAK,EAAuB,EAAM,WAAW,EAEtD,EAAM,SACG,EAAA,KAAK,EAAY,EAAM,QAAQ,EAExC,EAAM,OACG,EAAA,KAAK,EAAgB,EAAM,MAAM,EAE1C,EAAM,SACG,EAAA,KAAK,EAAc,EAAM,QAAQ,EAE1C,EAAM,aACG,EAAA,KAAK,EAAY,EAAM,YAAiC,EAEjE,EAAM,SACJ,OAAO,GAAM,SAAY,UAC3B,EAAW,KAAK,EAAQ,QAAW,EAAM,QAAQ,EAE/C,MAAO,GAAM,SAAY,UAC3B,EAAgB,EAAM,QAAS,CAAC,EAAO,IAAQ,CACzC,AAAA,GAAkB,EAAA,KAAK,EAAQ,GAAK,EAAM,CAAA,CAC/C,GAGD,EAAM,aACG,EAAA,KAAK,EAAY,EAAM,YAAY,EAE5C,EAAM,YACG,EAAA,KAAK,EAAW,EAAM,WAAW,EAE1C,EAAM,cACG,EAAA,KAAK,EAAa,EAAM,aAAa,EAG9C,AADmB,EAAW,OAAO,OAAO,EAC7B,SAAW,EACrB,GAEC,EAAK,GAAG,CAAU,CAE9B,EClCA,EAAA,IAAA,CAEE,KAAA,GAAA,GAAA,KACA,MAAA,CAAO,IAAA,AAAA,GAEH,EAAA,IAAA,CAAA,EAED,IAAA,CAAA,EAAA,IAAA,CAKCA,EAAAA,IAAAA,EAAAA,CAAAA,CAAA,CACD,CAEJ,EAED,EAAA,EAAA,EAEO,EAAA,AAAA,GAAA,CACL,KAAA,GAAA,EAAA,IAAA,CAAA,EACA,GAAA,EAAe,MAAA,GAEf,KAAA,GAAAC,EAAAA,QAAAA,WAAA,CAAA,CAEI,UACEC,QACAC,aACAC,UACAC,QACAC,UACAC,cACAC,UACAC,cACAC,aACAC,kBACAC,GACGC,IAAAA,CAIL,KAAA,GAAAC,EAAAA,QAAAA,QAAA,IACE,EAAA,CAA2B,UACzBZ,QACAC,aACAC,UACAC,QACAC,UACAC,cACAC,UACAC,cACAC,aACAC,cACAC,CAAAA,EAEKG,CAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,EAAAA,CAAAA,CAAAA,EAcT,MAAAC,GAAAA,QAAAA,cAAA,EAAA,CAA0B,GAAA,EACrBH,UAAAA,EAAAA,EAAAA,EAAAA,SAAAA,EACY,KACfI,CAAAA,CAHkB,CAAA,EAOxBC,SAAAA,IAAAA,EAAAA,CAAAA,EACA,CACD,sVCzGM,KAAA,GAAA,EAAA,KAAA;;;;;;;;;;;;;;;;;;;"}